{% with messages = get_flashed_messages(with_categories=True) %}
{% for category, message in messages %}

<div id="flash-messages" class="toast text-bg-{{category}} show position-fixed" role="alert"
    style="top: 1rem; right: 1rem; opacity: 0.7;">
    <div class="d-flex justify-content-between align-items-center p-3">
        <div class="toast-body">
            <p class="m-auto">{{ message }}</p>
        </div>
        <button type="button" class="btn-close me-3" data-bs-dismiss="toast"></button>
    </div>
</div>

{% endfor %}
{% endwith %}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        setTimeout(function () {
            var flashMessages = document.getElementById("flash-messages");
            if (flashMessages) {
                flashMessages.style.transition = "opacity 0.5s ease-out";
                flashMessages.style.opacity = "0";
                setTimeout(function () {
                    flashMessages.remove();
                }, 500);
            }
        }, 3000);
    });
</script>